/*!
 * Torro Forms Plugin Boilerplate Version 1.0.0 (https://plugin-website.com)
 * Licensed under GNU General Public License v2 (or later) (http://www.gnu.org/licenses/gpl-2.0.html)
 */
!function(e,t){"use strict";function r(e,t){var n;if(!e.length)return t;if("object"==typeof t&&(n=e.shift(),t[n]))return r(e,t[n])}function n(e,t){var n=e.replace(/%([A-Za-z0-9_.]+)%/g,function(e,n){var o=n.split("."),a=r(o,t);return"object"==typeof a?e:(a=""+a,a&&!a.length?e:a)});return-1<n.search("%")?"":n}e(".torro-plugin-boilerplate-autocomplete").each(function(){var r=e(this),o=e("#"+r.data("targetId")),a=r.data("searchRoute"),l=r.data("valueGenerator"),c=r.data("labelGenerator");o.length&&r.autocomplete({source:function(r,o){var s=t.restUrl+a.replace("%search%",r.term);e.ajax(s,{method:"GET",dataType:"json",headers:{"X-WP-Nonce":t.restNonce},success:function(e){var t,r,a,s=[];for(a in e)t=n(l,e[a]),r=n(c,e[a]),t.length&&r.length&&s.push({value:t,label:r});o(s)},error:function(e){"object"==typeof e.responseJSON&&null!==e.responseJSON&&e.responseJSON.message&&console.error(e.responseJSON.message),o([])},complete:function(e){var r=e.getResponseHeader("X-WP-Nonce");r&&(t.restNonce=r)}})},select:function(e,t){e.preventDefault(),r.val(t.item.label),o.val(t.item.value).trigger("change")},focus:function(e,t){e.preventDefault(),r.val(t.item.label)}})})}(window.jQuery,window.torroPluginBoilerplateAutocompleteData);